var m=Object.defineProperty;var y=(c,e,r)=>e in c?m(c,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[e]=r;var f=(c,e,r)=>(y(c,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();const p="fca_live_PiZglIifvZRSNblRMLuFHY5VTix4uQstfvm2STlU";class g{constructor(e=p){f(this,"baseUrl","https://api.freecurrencyapi.com/v1/");this.headers={apiKey:e}}call(e,r={}){const n=new URLSearchParams({...r}).toString();return fetch(`${this.baseUrl}${e}?${n}`,{headers:this.headers}).then(t=>t.json()).then(t=>t)}status(){return this.call("status")}currencies(e){return this.call("currencies",e)}latest(e){return this.call("latest",e)}historical(e){return this.call("historical",e)}}const l=new g;document.querySelector(".exchange");document.querySelector(".result");document.querySelector(".get__values");const i=document.getElementById("first"),d=document.getElementById("second");function h(c,e,r){const n=document.createElement("option");n.classList.add("value"),n.value=c,n.textContent=e,(c==="RUB"&&r.id==="second"||c==="USD"&&r.id==="first")&&(n.selected=!0),r.add(n)}function v(){return new Promise((c,e)=>{l.currencies().then(r=>{Object.keys(r.data).sort().forEach(s=>{const o=r.data[s].name;h(s,o,i),h(s,o,d)}),c()}).catch(r=>{console.log("Error: ",r),e(r)})})}window.addEventListener("DOMContentLoaded",()=>{v().then(()=>{console.log("Currencies loaded successfully.")}).catch(c=>{console.error("Error loading currencies: ",c)})});const a=document.getElementById("first-value"),u=document.getElementById("second-value");a.addEventListener("input",()=>{const c=i.value,e=d.value,r=parseFloat(a.value);l.latest({base_currency:c,currencies:e}).then(n=>{const t=n.data[e],s=r*t;u.value=s.toFixed(2)}).catch(n=>{console.log("Error while latest",n)})});u.addEventListener("input",()=>{const c=d.value,e=i.value,r=parseFloat(u.value);l.latest({base_currency:c,currencies:e}).then(n=>{const t=n.data[e],s=r*t;a.value=s.toFixed(2)}).catch(n=>{console.log("Error while latest",n)})});
